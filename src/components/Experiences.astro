---
import { t } from "~/i18n/labels";

import Section from "~/components/Section.astro";
import Experience from "~/components/Experience.astro";

const experiences = [
  {
    title: 'Solution Architect',
    company: 'Taskworld',
    website: 'https://taskworld.com/',
    from: new Date('2022-01-01'),
    location: 'Bangkok, Thailand',

    summary: `I've joined the team of principal engineers which daily job is to support the feature team and provide insights on technical solutions whenever needed. My specialty in this team is about software and cloud architecturing, best practices and techniques to support the growth of our platform at scale, as well as technical documentation through the initiative of modeling our platform with the C4 model.`,
  },
  {
    title: 'Senior Frontend Lead, Platform Architect',
    company: 'Amity',
    website: 'https://amity.co/',
    from: new Date('2020-06-01'),
    to: new Date('2022-01-01'),
    location: 'Bangkok, Thailand',

    summary: `I'm in charge of the web sdk of "Amity Social Cloud" product, as well as a library of React components which pair with it and 3 websites to help managing our product line. For this I'm actively coding and also overseeing a growing team of remote web engineers. I'm also consulting for the PM team in designing new features (from user requirement to software architecture), as well as overseeing the software and infrastructure architecture of our platform to keep up with the scale relative to our growth.`,
  },
  {
    title: 'Senior Frontend Engineer',
    company: 'LINE',
    website: 'https://linecorp.com/',
    from: new Date('2018-03-01'),
    to: new Date('2020-04-15'),
    location: 'Kyoto, Japan',

    summary: `At LINE, I've started, defined and implemented a production ready Design System on my own and nurtured it until it finally took off company wide; it is now spread all around and the whole group is taking steps towards it. While doing it, I've been part of the developer's platform refactoring project, involving in taking over legacy code, analyzing it and building a new version from scratch in Vue.js.`,
  },
  {
    title: 'Tech Lead, UX Dpt',
    company: 'Technicolor',
    website: 'https://technicolor.com/',
    from: new Date('2015-03-01'),
    to: new Date('2018-02-28'),
    location: 'Paris, France',

    summary: `I'm the technical advisor for the VP of UX in Technicolor. We design products and solutions for the Internet of Thing. My daily goals are to provide prototypes, test UIs, advise designers and challenge their ideas; find, audit and benchmark solutions, softwares and companies that could bring our concepts to production.`,

    highlight: `Our multi-device, web-based content-streaming app prototype with multi-screen, AI powered personnalized recommendations. I had to code it from scratch, using React as a base, and made it to the CES in 2016.`,
  },
  {
    title: 'Frontend Lead Developer',
    company: 'KRDS',
    website: 'https://krds.com/',
    from: new Date('2013-06-01'),
    to: new Date('2015-01-01'),
    location: 'Chennai, India',

    summary: `I'm in charge of developing and managing Flash and JS parts of web applications related to our core target (Facebook apps). I'm also the frontend consultant of the team; I also write technical documentations and business recommandations.`,

    highlight: `Induction plan for javascript developers made for indian people : I had to sum up my own experience and organize it in lessons to teach people despite cultural and skill differences.`,
  },
  {
    title: 'Creative Developer',
    company: 'RAPP',
    website: 'https://rappfrance.com/',
    from: new Date('2010-12-01'),
    to: new Date('2013-05-01'),
    location: 'Paris, France',

    summary: `I'm the frontend developer of the agency, using whatever stack needed to display content on the web. I also consult with with server-side developers, actively coding in php or C#. I'm also the preferred frontend consultant for creatives of the agency, project managers or business developers.`,

    highlight: `We were pushing boundaries of JS at that time, coding whatever designers wanted like 'multicolor web writable fonts' or 'video player with chapter and rich content overlayed'. A though time, but a very good time.`,
  },
  {
    title: 'AS3 Developer',
    company: 'Big Youth',
    website: 'https://bigyouth.fr/',
    from: new Date('2009-09-01'),
    to: new Date('2010-12-01'),
    location: 'Paris, France',

    summary: `I'm working on full-flash websites with multilingual, deeplinking and amfphp (server-side) web services. I'm in the curation group of the team and help by reviewing frameworks and technical solutions for our daily challenges related to flash.`,

    highlight: `[The Bic wall](https://thefwa.com/cases/the-bic-wall): the project is a huge realtime collaborative whiteboard. I had to do the R&D for the realtime server of the project. We had to code "from scratch udp/tcp servers" in many languages including C, java, python, nodejs and AS3 and test many existing solutions.`,
  },
  {
    title: 'Junior UX Designer',
    company: 'Axance',
    website: 'https://axance.fr/',
    from: new Date('2007-08-01'),
    to: new Date('2009-09-01'),
    location: 'Paris, France',

    summary: `I'm working along with a project manager in user centric design refactorings. We design personas, usecases, sitemaps, wireframes, and user tests. I'm also developing prototypes for A/B user tests.`,

    highlight: `We had to design user-testing for NFC payment as it was just the beginning of it. In partnership with many telecom operators and banks, we helped them designing gestures and processes for the NFC contact-less payments. I had fun designing fake contact-less interactions with a flash-lite enabled nokia N90 phone and some computers.`,
  },
]
---

<Section class="experiences" title={t('experiences')}>
  <ol>
    {experiences.map(experience => (
      <li>
        <Experience {...experience} />
      </li>
    ))}
  </ol>
</Section>

<script>
  const VISIBLE = 'visible'
  const experiences = [...document.querySelectorAll('.experiences .experience')]

  function onClick(evt: Event) {
    const { classList } = (evt.currentTarget as HTMLElement)
    const hadVisible = classList.contains(VISIBLE)

    experiences.forEach(experience => experience.classList.remove(VISIBLE))
    if (!hadVisible) classList.add(VISIBLE)
  }

  // addListener
  experiences.forEach(experience => {
    experience.addEventListener('click', onClick)
  })
</script>

<style is:global>
  .experiences {
    counter-reset: experiences;
    grid-area: experiences;
  }

  .experiences ol {
    padding: 0;
    list-style: none;
  }

  @media screen and (min-width: 768px), print {
    .experiences li:first-child .experience {
      padding-top: 0;
      border-top: none;
    }
    .experiences li:last-child .experience {
      border-bottom: none;
    }
  }
</style>
