---
import { t } from "~/i18n/labels";

import Section from "~/components/Section.astro";

import Link from '~/components/Link.astro'

function toPercent(rate: number) {
  return `${(rate * 100).toFixed(2)}%`
}

const projects= {
    'https://apps.apple.com/us/app/wonderfruit/id1065512368?ls=1': 'Wonderfruit (iOS)',
    'https://play.google.com/store/apps/details?id=com.scratchfirst.wonderfruitapp': 'Wonderfruit (Android)',
    'https://www.npmjs.com/package/@amityco/ts-sdk': 'Amity TS SDK',
    'https://upera.tv/': 'Upera',
    'https://anardoni.com/ios/app/gUFrGOKi': 'Upera (iOS)',
    'https://play.google.com/store/apps/details?id=com.techera.upera': 'Upera (Android)',
    'https://anardoni.com/ios/app/-GKmEN52': 'Ovisit (iOS)',
    'https://play.google.com/store/apps/details?id=com.ovisitapp': 'Ovisit (Android)',
    'https://linksee.me/': 'Linksee',
    'https://headstart.work/': 'Headstart',
    'https://komodaa.com/': 'Komodaa',
    'https://houseno4.org/': 'House no4',
    'https://fooladino.com/': 'Fooladino',
    'https://www.npmjs.com/package/react-native-eject': 'React Native Eject (Open Source)',
    'https://github.com/ramyareye/elegant-react-native-presentation': 'React Native Presentation (Talk)'
};

const skillsets = [
  'HTML/CSS, JavaScript, TypeScript',
  'React, React Native, Node, Express',
  'Next.js, Expo, Vue.js, PHP, Laravel',
  'CI/CD, Github Actions, Monorepos',
  'Lerna, Turbo, Linux, Docker, Git',
  'AWS/CW, Mysql, PGSQL, Jest, SDLC'
];

---

<Section class="skillsets" title={t('skills')}>
  <section class="skillset">
    <h3>{t('skills')}</h3>
      <dl>
        {skillsets.map((skill) => (
          <dt>{skill}</dt>
        ))}
      </dl>
  </section>
  <section class="skillset projects">
    <h3>{t('projects')}</h3>
    <dl>
        {Object.entries(projects).map(([name, project]) => (
            <dt>
              <a href={name} target="_blank">
                {/* <Link /> */}
                {project}
              </a>
            </dt>
        ))}
    </dl>
  </section>
</Section>

<style>
  .skillsets {
    grid-area: skillsets;
    padding: 2.5em 1.5em;
    border-top: 1px solid #eaeaea;
  }

  .skillset + .skillset {
    margin-top: 1.5em;
  }

  .skillset {
    color: var(--primary);
  }

  .skillset:hover {
    color: var(--strong);
  }

  .skillset h3 {
    margin: 0 0 .5em;
    font-family: 'Raleway', sans-serif;
    font-size: 1em;
  }

  .skillset dl {
    display: block;
    align-items: center;
    font-family: 'Raleway', serif;
    font-size: .95em;
    line-height: 1.5em;
  }

  .skillset dt {
    display: flex;
    color: var(--secondary);
    white-space: nowrap;
    font-size: 0.95em;
  }

  .skillset dd {
    position: relative;
    text-align: end;
    display: inline-block;
    overflow: hidden;
    width: 6em;
    height: .5em;
    border-radius: 1em;
    text-indent: 9999em;
  }

  .skillset dd:before,
  .skillset dd:after {
    content: '';
    position: absolute;
    display: inline-block;
    left: 0;
    top: 0;
    height: inherit;
    border-radius: inherit;
    color: inherit;
  }

  .skillset dd:before {
    width: 100%;
    background: var(--light);
  }

  .skillset dd:after {
    width: var(--value, 0);
    background: currentColor;
  }

  .skillset dt a {
    text-decoration: none;
  }

  @media screen and (min-width: 768px), print {
    .skillsets {
      border: none;
    }
  }
</style>
